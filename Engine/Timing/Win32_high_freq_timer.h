////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright 2009 Alexander Poluektov
// All rights reserved
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// $Id: //depot/main/Engine/Timing/Win32_high_freq_timer.h#4 $
// $DateTime: 2009/08/12 20:22:39 $

// Win32 high frequency timer.

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef ENGINE_TIMING_WIN32_HIGH_FREQ_TIMER_H_INCLUDED
#define ENGINE_TIMING_WIN32_HIGH_FREQ_TIMER_H_INCLUDED

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "Engine/Timing/Timer.h"

#include "Third_party/Platform/Win32.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

namespace Engine
{
namespace Timing
{

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/// Platform-dependent Windows timer.
/// Uses high resolution system counter.
class Win32_high_freq_timer : public Timer
{
public:

   Win32_high_freq_timer();

   // copying is disallowed through base class interface

// Timer interface
public:

   /// \see Timer::get_app_time
   virtual Milliseconds get_app_time() const;

private:

   LARGE_INTEGER m_start;
   LARGE_INTEGER m_freq;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

} // namespace Timing
} // namespace Engine

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#endif // ENGINE_TIMING_WIN32_HIGH_FREQ_TIMER_H_INCLUDED

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
